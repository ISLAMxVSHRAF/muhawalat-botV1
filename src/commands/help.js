// ==========================================
// üìñ HELP ‚Äî Slash Command (Paginated)
// ==========================================

const { SlashCommandBuilder, PermissionFlagsBits, EmbedBuilder, ActionRowBuilder, ButtonBuilder, ButtonStyle } = require('discord.js');
const CONFIG = require('../config');

const ERR = CONFIG.ADMIN?.unifiedErrorMessage || '‚ùå ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿØÿßÿÆŸÑŸä.';

// ÿØŸÑŸäŸÑ ÿßŸÑÿ£ÿØŸÖŸÜ ‚Äî 4 ÿµŸÅÿ≠ÿßÿ™ÿå ÿµŸäÿßÿ∫ÿ© ÿßÿ≠ÿ™ÿ±ÿßŸÅŸäÿ© ŸÖŸàÿ¨Ÿáÿ© ŸÑŸÑÿ•ÿØÿßÿ±ŸäŸäŸÜ ŸÅŸÇÿ∑
function getPages(base) {
    return [
        // ==========================================
        // üìÑ ÿµŸÅÿ≠ÿ© 1 ‚Äî ÿßŸÑÿ•ÿπÿØÿßÿØ Ÿàÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ£ÿπÿ∂ÿßÿ°
        // ==========================================
        new EmbedBuilder()
            .setColor(CONFIG.COLORS.primary)
            .setTitle('üõ†Ô∏è ÿØŸÑŸäŸÑ ÿßŸÑÿ£ÿØŸÖŸÜ | ÿµŸÅÿ≠ÿ© 1/4')
            .setDescription(`**ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ:** [ÿ±ÿßÿ®ÿ∑ ŸÑŸàÿ≠ÿ© ÿßŸÑÿ£ÿØŸÖŸÜ](${base}/admin.html)`)
            .addFields(
                {
                    name: 'üöÄ ÿßŸÑÿ•ÿπÿØÿßÿØ',
                    value: '`/setup` ‚Äî ŸÅÿ™ÿ≠ ŸÇÿßÿ¶ŸÖÿ© ÿ•ÿπÿØÿßÿØ ÿßŸÑÿ®Ÿàÿ™ (ÿ™ŸÑŸÇÿßÿ¶Ÿä / ŸÖÿÆÿµÿµ / ÿ±ÿ®ÿ∑ ŸäÿØŸàŸä).',
                    inline: false
                },
                {
                    name: 'üë§ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ£ÿπÿ∂ÿßÿ°',
                    value: [
                        '`/register_members` ‚Äî ÿ™ÿ≥ÿ¨ŸäŸÑ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿπÿ∂ÿßÿ° ÿ∞ŸàŸä ÿ±ŸàŸÑ ÿßŸÑÿπÿ∂Ÿà ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™.',
                        '`/recreate_dashboard user:` ‚Äî ÿ•ÿπÿßÿØÿ© ÿ®ŸÜÿßÿ° ÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑÿØÿßÿ¥ÿ®Ÿàÿ±ÿØ ŸÑÿπÿ∂Ÿà ŸÖÿ≠ÿØÿØ.',
                        '`/create_thread user:` ‚Äî ÿ•ŸÜÿ¥ÿßÿ° ŸÖÿ≥ÿßÿ≠ÿ© (Thread) ÿ¨ÿØŸäÿØÿ© ŸÑÿπÿ∂Ÿà ŸÑÿß ŸäŸÖŸÑŸÉ ŸÖÿ≥ÿßÿ≠ÿ©.',
                    ].join('\n'),
                    inline: false
                },
                {
                    name: 'üì± ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿπÿ∂Ÿà (ÿßŸÑÿØÿßÿ¥ÿ®Ÿàÿ±ÿØ)',
                    value: [
                        'ÿßŸÑÿ®Ÿàÿ™ ŸäŸÜÿ¥ÿ¶ ŸÑŸÉŸÑ ÿπÿ∂Ÿà ŸÖÿ≥ÿßÿ≠ÿ© (Thread) ÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿπÿßÿØÿßÿ™ÿå ÿßŸÑÿ£ŸáÿØÿßŸÅÿå ŸàÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ÿå ŸàŸÇÿßÿ¶ŸÖÿ© ÿ™ŸÜŸÇŸÑ ÿ®ŸäŸÜ ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ.',
                        '**ÿßŸÑÿ™ÿØŸàŸäŸÜ:** ŸÖŸäÿ≤ÿ© ÿ™ÿØŸàŸäŸÜ ÿÆÿßÿµÿ© ÿ®ÿßŸÑÿπÿ∂Ÿàÿõ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ŸäŸèÿ≠ŸÅÿ∏ ÿ®ÿ≥ÿ±Ÿäÿ© ŸàŸäŸèÿπÿ±ÿ∂ ŸÅŸä ÿ≥ÿ¨ŸÑ ÿ™ÿØŸàŸäŸÜ **ŸÖÿ§ŸÇÿ™ (ephemeral)** ‚Äî ŸÑÿß Ÿäÿ∏Ÿáÿ± ŸÑÿ£ÿ≠ÿØ ÿ∫Ÿäÿ±Ÿá. ŸäŸèŸÜÿµÿ≠ ÿ®ÿßŸÑÿ•ŸÑŸÖÿßŸÖ ÿ®Ÿáÿ∞Ÿá ÿßŸÑŸÖŸäÿ≤ÿ© ŸÑÿ£ÿ∫ÿ±ÿßÿ∂ ÿßŸÑÿÆÿµŸàÿµŸäÿ© ŸàÿßŸÑÿØÿπŸÖ.',
                    ].join('\n'),
                    inline: false
                },
            )
            .setFooter({ text: 'ÿµŸÅÿ≠ÿ© 1 ŸÖŸÜ 4 ‚Äî ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ŸÑŸÑÿ™ŸÜŸÇŸÑ' }),

        // ==========================================
        // üìÑ ÿµŸÅÿ≠ÿ© 2 ‚Äî ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ± ÿßŸÑŸäŸàŸÖŸäÿ©ÿå Seasonsÿå ÿßŸÑŸÖŸáÿßŸÖ
        // ==========================================
        new EmbedBuilder()
            .setColor(CONFIG.COLORS.warning)
            .setTitle('üõ†Ô∏è ÿØŸÑŸäŸÑ ÿßŸÑÿ£ÿØŸÖŸÜ | ÿµŸÅÿ≠ÿ© 2/4')
            .addFields(
                {
                    name: 'üìù ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ± ÿßŸÑŸäŸàŸÖŸäÿ©',
                    value: [
                        '`/daily_done` ‚Äî ÿπÿ±ÿ∂ ÿßŸÑÿ£ÿπÿ∂ÿßÿ° ÿßŸÑÿ∞ŸäŸÜ ÿ≥ÿ¨ŸëŸÑŸàÿß ÿ™ŸÇÿ±Ÿäÿ±ŸáŸÖ ÿßŸÑŸäŸàŸÖ.',
                        '`/daily_missing` ‚Äî ÿπÿ±ÿ∂ ÿßŸÑÿ£ÿπÿ∂ÿßÿ° ÿßŸÑÿ∞ŸäŸÜ ŸÑŸÖ Ÿäÿ≥ÿ¨ŸëŸÑŸàÿß ÿ™ŸÇÿ±Ÿäÿ±ŸáŸÖ ÿ®ÿπÿØ.',
                        '`/sync_reports thread_id: date:` ‚Äî ŸÖÿ≤ÿßŸÖŸÜÿ© ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ± ŸÖŸÜ Thread ÿ®ÿ™ÿßÿ±ŸäÿÆ ŸÖÿπŸäŸÜ Ÿàÿ™ÿ≥ÿ¨ŸäŸÑŸáÿß ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™.',
                        '`/unsync_reports thread_id: date:` ‚Äî ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ± ÿßŸÑŸÖÿ≥ÿ¨ŸëŸÑÿ© ŸÑŸÑÿ£ÿπÿ∂ÿßÿ° ŸÑŸäŸàŸÖ ŸÖÿπŸäŸÜ (ÿµŸäÿ∫ÿ© DD-MM-YYYY)ÿõ ŸÑŸÑÿ™ÿ±ÿßÿ¨ÿπ ÿπŸÜ ŸÖÿ≤ÿßŸÖŸÜÿ© ÿÆÿßÿ∑ÿ¶ÿ© ÿ£Ÿà ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≤ÿßŸÖŸÜÿ© ŸÑÿßÿ≠ŸÇÿßŸã.',
                    ].join('\n'),
                    inline: false
                },
                {
                    name: 'üìÖ Seasons (ÿØŸàÿ±ÿßÿ™ 28 ŸäŸàŸÖ)',
                    value: [
                        '`/start_season start_date:` ‚Äî ÿ®ÿØÿ° Season ÿ¨ÿØŸäÿØ ŸÖÿØÿ™Ÿá 28 ŸäŸàŸÖ. ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ®ÿØÿßŸäÿ© ÿ®ÿµŸäÿ∫ÿ© **DD-MM-YYYY** (ŸÖÿ´ÿßŸÑ: 01-03-2026). ŸäŸèÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿ≠ÿ≥ÿßÿ® ÿßŸÑÿØŸäŸÑŸä [X/7] ŸàÿßŸÑÿ£ÿ≥ÿ®ŸàÿπŸä [X/4] ŸàÿßŸÑÿ¥Ÿáÿ±Ÿä [X/1] ŸÅŸä ÿßŸÑÿØÿßÿ¥ÿ®Ÿàÿ±ÿØ.',
                        '`/end_season` ‚Äî ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸÄ Season ÿßŸÑÿ≠ÿßŸÑŸä ŸäÿØŸàŸäÿßŸã.',
                        '`/season_info` ‚Äî Ÿäÿπÿ±ÿ∂ ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸÖ ÿßŸÑÿ≠ÿßŸÑŸäÿå ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ≠ÿßŸÑŸä (ŸÖŸÜ 28)ÿå ŸàÿÆÿ±Ÿäÿ∑ÿ© ÿØŸÇŸäŸÇÿ© ŸÑÿ™Ÿàÿßÿ±ŸäÿÆ ÿßŸÑÿ£ÿ≥ÿßÿ®Ÿäÿπ ÿßŸÑÿ£ÿ±ÿ®ÿπÿ©.',
                    ].join('\n'),
                    inline: false
                },
                {
                    name: 'üìå ÿßŸÑŸÖŸáÿßŸÖ',
                    value: [
                        '`/task_create type: [image:]` ‚Äî ÿ•ŸÜÿ¥ÿßÿ° ŸÖŸáŸÖÿ© (ÿ£ÿ≥ÿ®ŸàÿπŸäÿ©/ÿ¥Ÿáÿ±Ÿäÿ©) ÿπÿ®ÿ± Modalÿõ ÿ™ŸèŸÜÿ¥ÿ± ŸÅŸä ÿßŸÑŸÖŸÜÿ™ÿØŸâ. ÿßŸÑÿ£ÿ≥ÿ®ŸàÿπŸäÿ© ÿ™ŸèŸÇŸÅŸÑ ÿ®ÿπÿØ 48 ÿ≥ÿßÿπÿ©ÿå ÿßŸÑÿ¥Ÿáÿ±Ÿäÿ© ÿ®ÿπÿØ 5 ÿ£ŸäÿßŸÖ.',
                        '`/task_list` ‚Äî ÿπÿ±ÿ∂ ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑŸÜÿ¥ÿ∑ÿ© ŸàŸÖŸàÿßÿπŸäÿØ ÿßŸÑŸÇŸÅŸÑ.',
                        '`/sync_tasks thread_id:` ‚Äî ÿ•ÿØÿÆÿßŸÑ ŸÖÿπÿ±ŸÅ ÿßŸÑÿ´ÿ±ŸäÿØ ÿ´ŸÖ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÜŸàÿπ (ÿ£ÿ≥ÿ®ŸàÿπŸä/ÿ¥Ÿáÿ±Ÿä) ŸàÿßŸÑÿ™ÿ±ÿ™Ÿäÿ® ÿπÿ®ÿ± Modal. ÿßŸÑŸÖÿ≤ÿßŸÖŸÜÿ© ÿ™ÿ≥ÿ¨ŸëŸÑ ÿßŸÑÿ•ÿ™ŸÖÿßŸÖ ŸÖŸÜ ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ: **ÿ±ÿ≥ÿßŸÑÿ© ÿ™Ÿèÿπÿ™ÿ®ÿ± ŸÖŸÉÿ™ŸÖŸÑÿ© ÿ•ÿ∞ÿß ÿ®ŸÑÿ∫ÿ™ 10 ŸÉŸÑŸÖÿßÿ™ ŸÅÿ£ŸÉÿ´ÿ±ÿå ÿ£Ÿà ÿ•ÿ∞ÿß ÿßÿ≠ÿ™Ÿàÿ™ ÿπŸÑŸâ ŸÖÿ±ŸÅŸÇ (ÿµŸàÿ±ÿ©/ŸÖŸÑŸÅ)**ÿõ ŸÅŸä ÿ≠ÿßŸÑ ÿßŸÑŸÖÿ±ŸÅŸÇ ŸäŸèÿ≠ŸÅÿ∏ ÿ±ÿßÿ®ÿ∑ ÿßŸÑŸÖŸÑŸÅ ŸÉÿØŸÑŸäŸÑ ÿ•ÿ™ŸÖÿßŸÖ.',
                    ].join('\n'),
                    inline: false
                },
            )
            .setFooter({ text: 'ÿµŸÅÿ≠ÿ© 2 ŸÖŸÜ 4 ‚Äî ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ŸÑŸÑÿ™ŸÜŸÇŸÑ' }),

        // ==========================================
        // üìÑ ÿµŸÅÿ≠ÿ© 3 ‚Äî ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™ ŸàÿßŸÑÿ•ŸÜÿ∞ÿßÿ±ÿßÿ™
        // ==========================================
        new EmbedBuilder()
            .setColor(CONFIG.COLORS.success)
            .setTitle('üõ†Ô∏è ÿØŸÑŸäŸÑ ÿßŸÑÿ£ÿØŸÖŸÜ | ÿµŸÅÿ≠ÿ© 3/4')
            .addFields(
                {
                    name: 'üèÜ ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™',
                    value: [
                        '`/challenge_create [image:]` ‚Äî ÿ•ŸÜÿ¥ÿßÿ° ÿ™ÿ≠ÿØŸä ÿπÿ®ÿ± Modalÿõ ŸäŸèŸÜÿ¥ÿ± ŸÅŸä ŸÇŸÜÿßÿ© ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™. ŸäŸèÿ≥ÿ™ŸÉŸÖŸÑ ÿßŸÑÿ±ÿ®ÿ∑ ÿ®ÿßŸÑŸÖÿØÿ© ŸàÿßŸÑŸÜŸÇÿßÿ∑ ÿπÿ®ÿ± `/sync_challenge`.',
                        '`/sync_challenge thread_id:` ‚Äî ÿ±ÿ®ÿ∑ ÿ´ÿ±ŸäÿØ ÿßŸÑÿ™ÿ≠ÿØŸä ÿ®ÿßŸÑŸÖÿØÿ© (ÿ£ŸäÿßŸÖ) ŸàŸàŸÇÿ™/ŸÜŸÇÿßÿ∑ ÿßŸÑÿ™ÿ≠ÿØŸä ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™.',
                        'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ©: ÿßŸÑÿπÿ∂Ÿà ŸäŸÉÿ™ÿ® ŸÅŸä ÿßŸÑÿ´ÿ±ŸäÿØ ÿ®ÿµŸäÿ∫ÿ© ÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ‚úÖ ŸàÿßŸÑŸàŸÇÿ™ (ŸÖÿ´ÿßŸÑ: `ÿ™ŸÖ ‚úÖ - 30 ÿØŸÇŸäŸÇÿ©`). ÿßŸÜÿ™Ÿáÿßÿ° ÿßŸÑÿ™ÿ≠ÿØŸä ŸäŸèŸÇŸÅŸÑ ÿßŸÑÿ™ÿ≠ÿØŸä ŸàŸäŸèÿπŸÑŸÜ ÿßŸÑŸÅÿßÿ¶ÿ≤ŸäŸÜ ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã.',
                        '`/challenge_stats id:` ‚Äî ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ™ÿ≠ÿØŸä ŸàŸÑŸàÿ≠ÿ© ÿßŸÑŸÖÿ™ÿµÿØÿ±ŸäŸÜ (ÿµŸÅÿ≠ÿßÿ™).',
                        '`/challenge_end id:` ‚Äî ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ≠ÿØŸä ŸäÿØŸàŸäÿßŸã Ÿàÿ•ÿπŸÑÿßŸÜ ÿßŸÑŸÅÿßÿ¶ÿ≤ŸäŸÜ.',
                    ].join('\n'),
                    inline: false
                },
                {
                    name: '‚ö†Ô∏è ÿßŸÑÿ•ŸÜÿ∞ÿßÿ±ÿßÿ™',
                    value: [
                        '`/warn user: [reason:]` ‚Äî ÿ•ÿµÿØÿßÿ± ÿ•ŸÜÿ∞ÿßÿ± ŸäÿØŸàŸä ŸÖÿπ ÿ≥ÿ®ÿ® ÿßÿÆÿ™Ÿäÿßÿ±Ÿä.',
                        '`/remove_warn user:` ‚Äî ÿ•ÿ≤ÿßŸÑÿ© ÿ•ŸÜÿ∞ÿßÿ± Ÿàÿßÿ≠ÿØ ÿπŸÜ ÿπÿ∂Ÿà.',
                        '`/clear_warns user:` ‚Äî ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿ•ŸÜÿ∞ÿßÿ±ÿßÿ™ ÿπÿ∂Ÿà.',
                        '`/warnings user:` ‚Äî ÿπÿ±ÿ∂ ÿ≥ÿ¨ŸÑ ÿ•ŸÜÿ∞ÿßÿ±ÿßÿ™ ÿπÿ∂Ÿà.',
                        '`/warnings_all` ‚Äî ÿπÿ±ÿ∂ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿπÿ∂ÿßÿ° ÿßŸÑÿ∞ŸäŸÜ ŸÑÿØŸäŸáŸÖ ÿ•ŸÜÿ∞ÿßÿ±ÿßÿ™.',
                        '`/timeout_list` ‚Äî ÿπÿ±ÿ∂ ÿßŸÑÿ£ÿπÿ∂ÿßÿ° ÿßŸÑÿ∞ŸäŸÜ ÿ®ŸÑÿ∫Ÿàÿß 3 ÿ•ŸÜÿ∞ÿßÿ±ÿßÿ™ (ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖŸáŸÑÿ©).',
                        '`/warnings_auto_toggle` ‚Äî ÿ•ŸäŸÇÿßŸÅ/ÿ™ÿ¥ÿ∫ŸäŸÑ ÿ±ÿßÿØÿßÿ± ÿßŸÑÿ•ŸÜÿ∞ÿßÿ±ÿßÿ™ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿäÿ© (On/Off).',
                    ].join('\n'),
                    inline: false
                },
            )
            .setFooter({ text: 'ÿµŸÅÿ≠ÿ© 3 ŸÖŸÜ 4 ‚Äî ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ŸÑŸÑÿ™ŸÜŸÇŸÑ' }),

        // ==========================================
        // üìÑ ÿµŸÅÿ≠ÿ© 4 ‚Äî ÿßŸÑÿ£ÿ™ŸÖÿ™ÿ© ŸàÿßŸÑÿ¨ÿØŸàŸÑÿ© ŸàÿßŸÑÿµŸäÿßŸÜÿ©
        // ==========================================
        new EmbedBuilder()
            .setColor(CONFIG.COLORS.info || CONFIG.COLORS.primary)
            .setTitle('üõ†Ô∏è ÿØŸÑŸäŸÑ ÿßŸÑÿ£ÿØŸÖŸÜ | ÿµŸÅÿ≠ÿ© 4/4')
            .addFields(
                {
                    name: 'ü§ñ ÿßŸÑÿ±ÿØŸàÿØ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿäÿ©',
                    value: [
                        '`/autorespond_add [channels:] [match:]` ‚Äî ÿ•ÿ∂ÿßŸÅÿ© ÿ±ÿØ ÿ™ŸÑŸÇÿßÿ¶Ÿä ÿπÿ®ÿ± Modal (ŸÜÿµ ÿßŸÑŸÖÿ≠ŸÅŸëÿ≤ÿå ŸÜÿµ ÿßŸÑÿ±ÿØÿå ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÇŸÜŸàÿßÿ™ ŸàŸÜŸàÿπ ÿßŸÑŸÖÿ∑ÿßÿ®ŸÇÿ©).',
                        '`/autorespond_list` ‚Äî ÿπÿ±ÿ∂ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ±ÿØŸàÿØ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿäÿ© Ÿàÿ≠ÿßŸÑÿ™Ÿáÿß.',
                        '`/autorespond_toggle id:` ‚Äî ÿ™ŸÅÿπŸäŸÑ ÿ£Ÿà ÿ•ŸäŸÇÿßŸÅ ÿ±ÿØ.',
                        '`/autorespond_delete id:` ‚Äî ÿ≠ÿ∞ŸÅ ÿ±ÿØ ÿ™ŸÑŸÇÿßÿ¶Ÿä.',
                    ].join('\n'),
                    inline: false
                },
                {
                    name: 'üìÖ ÿßŸÑÿ¨ÿØŸàŸÑÿ©',
                    value: [
                        '`/schedule_add channel: repeat:` ‚Äî ÿ•ÿ∂ÿßŸÅÿ© ÿ±ÿ≥ÿßŸÑÿ© ŸÖÿ¨ÿØŸàŸÑÿ© ÿπÿ®ÿ± Modal (ŸàŸÇÿ™ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑÿå ÿßŸÑÿπŸÜŸàÿßŸÜÿå ÿßŸÑŸÜÿµÿå ÿßŸÑŸÖŸäÿØŸäÿß). ÿßŸÑÿ™ŸÉÿ±ÿßÿ±: ŸäŸàŸÖŸä / ÿ£ÿ≥ÿ®ŸàÿπŸä / ŸÖÿ±ÿ© Ÿàÿßÿ≠ÿØÿ©.',
                        '`/schedule_list` ‚Äî ÿπÿ±ÿ∂ ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑŸÖÿ¨ÿØŸàŸÑÿ© Ÿàÿ≠ÿßŸÑÿ™Ÿáÿß.',
                        '`/schedule_pause id:` ‚Äî ÿ•ŸäŸÇÿßŸÅ ÿ±ÿ≥ÿßŸÑÿ© ŸÖÿ¨ÿØŸàŸÑÿ© ŸÖÿ§ŸÇÿ™ÿßŸã.',
                        '`/schedule_resume id:` ‚Äî ÿßÿ≥ÿ™ÿ¶ŸÜÿßŸÅ ÿ±ÿ≥ÿßŸÑÿ© ŸÖŸàŸÇŸàŸÅÿ©.',
                        '`/schedule_delete id:` ‚Äî ÿ≠ÿ∞ŸÅ ÿ±ÿ≥ÿßŸÑÿ© ŸÖÿ¨ÿØŸàŸÑÿ©.',
                    ].join('\n'),
                    inline: false
                },
                {
                    name: 'üß™ ÿ£ŸàÿßŸÖÿ± ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±',
                    value: [
                        '`/test_morning` ‚Äî ÿ•ÿ±ÿ≥ÿßŸÑ ÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑÿµÿ®ÿßÿ≠ ŸÅŸàÿ±ÿßŸã.',
                        '`/test_evening` ‚Äî ÿ™ÿ¥ÿ∫ŸäŸÑ ŸÖÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑŸÖÿ≥ÿßÿ° ŸÅŸàÿ±ÿßŸã.',
                        '`/test_reset` ‚Äî ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ™ÿµŸÅŸäÿ± ÿßŸÑŸäŸàŸÖŸä ŸÅŸàÿ±ÿßŸã.',
                        '`/test_weekly` ‚Äî ÿ•ÿ±ÿ≥ÿßŸÑ ŸÑŸàÿ≠ÿ© ÿßŸÑÿ¥ÿ±ŸÅ ŸÅŸàÿ±ÿßŸã.',
                        '`/test_daily` ‚Äî ÿ•ŸÜÿ¥ÿßÿ° ÿ®Ÿàÿ≥ÿ™ ÿßŸÑÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑŸäŸàŸÖŸä ŸÅŸàÿ±ÿßŸã.',
                        '`/test_lock_daily` ‚Äî ŸÇŸÅŸÑ ÿ®Ÿàÿ≥ÿ™ ÿßŸÑÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑÿ≥ÿßÿ®ŸÇ.',
                        '`/test_lock_tasks` ‚Äî ŸÇŸÅŸÑ ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑŸÖŸÜÿ™ŸáŸäÿ© Ÿàÿ•ÿ¥ÿπÿßÿ± ÿßŸÑŸÜÿßŸÇÿµŸäŸÜ.',
                        '`/test_warnings` ‚Äî ÿ™ÿ¥ÿ∫ŸäŸÑ ŸÅÿ≠ÿµ ÿßŸÑÿ•ŸÜÿ∞ÿßÿ±ÿßÿ™ ÿßŸÑÿ£ÿ≥ÿ®ŸàÿπŸä ŸÅŸàÿ±ÿßŸã.',
                        '`/test_challenges` ‚Äî ÿ™ÿ¥ÿ∫ŸäŸÑ ŸÅÿ≠ÿµ ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™ ÿßŸÑŸÖŸÜÿ™ŸáŸäÿ© ŸÅŸàÿ±ÿßŸã.',
                        '`/test_monthly` ‚Äî ÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ÿ∞ŸÉŸäÿ± ÿ£ŸáÿØÿßŸÅ ÿßŸÑÿ¥Ÿáÿ± ŸÅŸàÿ±ÿßŸã.',
                    ].join('\n'),
                    inline: false
                },
                {
                    name: 'üìä ÿßŸÑÿµŸäÿßŸÜÿ©',
                    value: [
                        '`/debug_status` ‚Äî ÿ≠ÿßŸÑÿ© ÿßŸÑÿ®Ÿàÿ™ (ÿπÿØÿØ ÿßŸÑÿ£ÿπÿ∂ÿßÿ°ÿå ŸàŸÇÿ™ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑÿå ÿ™ŸÇÿßÿ±Ÿäÿ± ÿßŸÑŸäŸàŸÖ).',
                        '`/db_backup` ‚Äî ÿ•ŸÜÿ¥ÿßÿ° ŸÜÿ≥ÿÆÿ© ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿäÿ© ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™.',
                    ].join('\n'),
                    inline: false
                },
            )
            .setFooter({ text: 'ÿµŸÅÿ≠ÿ© 4 ŸÖŸÜ 4 | ÿØŸÑŸäŸÑ ÿßŸÑÿ£ÿØŸÖŸÜ ‚Ä¢ Slash Commands' }),
    ];
}

// ‚úÖ FIX: ÿ™ÿ≠ÿØŸäÿ´ getRow ŸÑÿßÿ≥ÿ™Ÿäÿπÿßÿ® 4 ÿµŸÅÿ≠ÿßÿ™ (ÿßŸÑÿ™ÿ∫ŸäŸäÿ± ÿ™ŸÑŸÇÿßÿ¶Ÿä ÿπÿ®ÿ± total)
function getRow(page, total) {
    return new ActionRowBuilder().addComponents(
        new ButtonBuilder()
            .setCustomId(`help_prev_${page}`)
            .setLabel('‚óÄ ÿßŸÑÿ≥ÿßÿ®ŸÇ')
            .setStyle(ButtonStyle.Secondary)
            .setDisabled(page === 0),
        new ButtonBuilder()
            .setCustomId(`help_page_${page}`)
            .setLabel(`${page + 1} / ${total}`)
            .setStyle(ButtonStyle.Primary)
            .setDisabled(true),
        new ButtonBuilder()
            .setCustomId(`help_next_${page}`)
            .setLabel('ÿßŸÑÿ™ÿßŸÑŸä ‚ñ∂')
            .setStyle(ButtonStyle.Secondary)
            .setDisabled(page === total - 1)
    );
}

const data = new SlashCommandBuilder()
    .setName('help')
    .setDescription('ÿπÿ±ÿ∂ ŸÉŸÑ ÿ£ŸàÿßŸÖÿ± ÿßŸÑÿ£ÿØŸÖŸÜ ŸÖÿπ ÿ¥ÿ±ÿ≠ ŸÉŸÑ ÿ£ŸÖÿ±')
    .setDefaultMemberPermissions(PermissionFlagsBits.Administrator);

async function execute(interaction) {
    try {
        const base = process.env.WEB_BASE_URL || `http://localhost:${process.env.WEB_PORT || 3000}`;
        const pages = getPages(base);
        await interaction.reply({
            embeds: [pages[0]],
            components: [getRow(0, pages.length)],
            ephemeral: true
        });
    } catch (e) {
        console.error('‚ùå help:', e);
        await interaction.reply({ content: ERR, ephemeral: true }).catch(() => {});
    }
}

async function handleHelpButton(interaction) {
    try {
        const base = process.env.WEB_BASE_URL || `http://localhost:${process.env.WEB_PORT || 3000}`;
        const pages = getPages(base);
        const id = interaction.customId;

        let page = parseInt(id.split('_')[2]);
        if (id.startsWith('help_next_')) page = Math.min(page + 1, pages.length - 1);
        if (id.startsWith('help_prev_')) page = Math.max(page - 1, 0);

        await interaction.update({
            embeds: [pages[page]],
            components: [getRow(page, pages.length)]
        });
    } catch (e) {
        console.error('‚ùå help button:', e);
    }
}

module.exports = { data, execute, handleHelpButton };
